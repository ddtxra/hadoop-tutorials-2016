# Name the components on this agent
gateway-agent.sources = avro_source
gateway-agent.channels = memory_channel
gateway-agent.sinks = hdfs_sink

# Configure source
gateway-agent.sources.avro_source.type = avro
gateway-agent.sources.avro_source.channels = memory_channel
gateway-agent.sources.avro_source.bind = 0.0.0.0
gateway-agent.sources.avro_source.port = 12123
gateway-agent.sources.avro_source.interceptors = addtimestamp
gateway-agent.sources.avro_source.interceptors.addtimestamp.type = AddTimestampInterceptor$Builder

# Use a channel which buffers events in memory
gateway-agent.channels.memory_channel.type = memory
gateway-agent.channels.memory_channel.capacity = 10000
gateway-agent.channels.memory_channel.transactionCapacity = 100

# Describe the sink
gateway-agent.sinks.hdfs_sink.type = hdfs
gateway-agent.sinks.hdfs_sink.channel = memory_channel
gateway-agent.sinks.hdfs_sink.hdfs.fileType = DataStream
gateway-agent.sinks.hdfs_sink.hdfs.path = hdfs://haperf100.cern.ch:8020/tmp/flume-chat-data/
gateway-agent.sinks.hdfs_sink.hdfs.rollCount = 100
gateway-agent.sinks.hdfs_sink.hdfs.rollSize = 1000000